@using LinkDotNet.Domain
@using X.PagedList
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            <li class="page-item @(!CurrentPage.IsFirstPage ? string.Empty : "disabled")">
                <a class="page-link" href="#" tabindex="-1">Previous</a>
            </li>
            <li class="page-item"><a class="page-link @(!CurrentPage.IsFirstPage ? string.Empty : "disabled")" 
                                     href="#" 
                                     @onclick="PreviousPage">(@CurrentPage.PageNumber - 1)</a></li>
            <li class="page-item">
                <a class="page-link @(!CurrentPage.IsLastPage ? string.Empty : "disabled")"
                   @onclick="NextPage">
                   href="#">Next</a>
            </li>
        </ul>
    </nav>

    @code {
        [Parameter]
        public IPagedList<BlogPost> CurrentPage { get; set; }
        
        [Parameter]
        public EventCallback<int> OnPageChanged { get; set; }

        private async Task PageHasChanged(int newPage)
        {
            await OnPageChanged.InvokeAsync(newPage);
        }

        private async Task PreviousPage()
        {
            await PageHasChanged(CurrentPage.PageCount - 1);
        }
        
        private async Task NextPage()
        {
            await PageHasChanged(CurrentPage.PageCount + 1);
        }
    }