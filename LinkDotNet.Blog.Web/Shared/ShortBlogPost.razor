@using LinkDotNet.Domain
@inject NavigationManager _navigationManager
@inherits MarkdownComponentBase
<div class="blog-card @AltCssClass">
    <div class="meta">
      <div class="photo" style="background-image: url(https://storage.googleapis.com/chydlx/codepen/blog-cards/image-2.jpg)"></div>
      <ul class="details">
        <li class="date">@BlogPost.UpdatedDate</li>
        <li class="tags">
          <ul>
          @foreach (var tag in BlogPost.Tags)
          {
            <li><a href="#">@tag</a></li>
          }
          </ul>
        </li>
      </ul>
    </div>
    <div class="description">
      <h1>@BlogPost.Title</h1>
      <h2></h2>
      <p>@RenderMarkupString(BlogPost.ShortDescription)</p>
      <p class="read-more">
        <a href="#" @onclick="@OpenBlogPost">Read More</a>
      </p>
    </div>
  </div>

@code {
    [Parameter]
    public BlogPost BlogPost { get; set; }
  
    [Parameter]
    public bool SetAlt { get; set; }

    private string AltCssClass => SetAlt ? "alt" : string.Empty;

    private void OpenBlogPost()
    {
      _navigationManager.NavigateTo($"/blogPost/{BlogPost.Id}");
    }

}