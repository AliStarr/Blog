@inject NavigationManager navigationManager
@inject IJSRuntime jsRuntime
@inject IToastService toastService

<div class="flex-row">
    <a id="share-linkedin" href="@LinkedInShare" target="_blank"><i class="linkedin"></i></a>
    <a id="share-clipboard" href="javascript:void(0)" @onclick="CopyToClipboard"><i class="copy"></i></a>
</div>
@code {
    private string LinkedInShare => $"https://www.linkedin.com/shareArticle?mini=true&url={navigationManager.Uri}";

    private async Task CopyToClipboard()
    {
        try
        {
            await jsRuntime.InvokeVoidAsync("navigator.clipboard.writeText", navigationManager.Uri);
            toastService.ShowSuccess("Copied link to clipboard");
        }
        catch
        {
            toastService.ShowError("There was an error copying the link. Please copy the link from your address bar instead.");
        }
    }
}